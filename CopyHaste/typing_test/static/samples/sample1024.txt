
class CbKarmaClient(RestConnection):
	def __init__(self, hostname, port='80'):
		self.username = ''
		self.password = ''
		self.baseUrl = 'http://{0}:{1}/'.format(hostname, port)
	def init(self):
		api = self.baseUrl + 'init'
		try:
			return self._http_request(api, 'GET', timeout=30)
		except ServerUnavailableException:
			print "Dashboard is not available... bypassing."
			return (False, None)
	def update(self, id=None, build='', spec='', ini='', phase='', status=''):
		api = self.baseUrl + 'update'
		params = {'phase': phase,
				  'build': build,
				  'spec': spec,
				  'ini': ini,
				  'status': status}
		if id:
			params['id'] = id
		try:
			return self._http_request(api, 'POST', urllib.urlencode(params),
									  timeout=30)
		