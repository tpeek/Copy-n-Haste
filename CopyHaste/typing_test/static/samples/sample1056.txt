
PREFIX = "https://raw.githubusercontent.com/papers-we-love/papers-we-love/master"
def get_files(directory):
	here = path.cwd()
	directory = path(directory)
	os.chdir(directory)
	walker = directory.walk(filter=FILES)
	files = [p.relative() for p in walker if not p.relative().startswith('.')]
	os.chdir(here)
	return files
def add_file_to_annex(filename):
	url = os.path.join(PREFIX, filename)
	dirname = os.path.dirname(filename)
	annexdir = os.path.join('papers-we-love', dirname)
	if not os.path.isdir(annexdir):
		os.makedirs(annexdir)
	filename = os.path.join(annexdir, os.path.basename(filename))
	if not os.path.islink(filename):
		print "Adding", filename, "to ANNEX"	
		cmd = ['git-annex', 'addurl', '--file', filename, url]
		subprocess.che