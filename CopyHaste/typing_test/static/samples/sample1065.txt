
class API(wsgi.Router):
	def __init__(self, mapper):
		reject_method_resource = wsgi.Resource(wsgi.RejectMethodController())
		images_resource = images.create_resource()
		mapper.connect("/",
					   controller=images_resource,
					   action="index")
		mapper.connect("/images",
					   controller=images_resource,
					   action='index',
					   conditions={'method': ['GET']})
		mapper.connect("/images",
					   controller=images_resource,
					   action='create',
					   conditions={'method': ['POST']})
		mapper.connect("/images",
					   controller=reject_method_resource,
					   action='reject',
					   allowed_methods='GET, POST',
					   conditions={'method': ['PUT', 'DELETE', 'HEAD',
											  'PATCH']})
		mapper.connect("/images/