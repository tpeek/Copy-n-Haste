
_LI = i18n._LI
_LE = i18n._LE
LOG = logging.getLogger(__name__)
def run_task(task_id, task_type, context,
			 task_repo=None, image_repo=None, image_factory=None):
	LOG.info(_LI("Loading known task scripts for task_id %(task_id)s "
				 "of type %(task_type)s"), {'task_id': task_id,
											'task_type': task_type})
	if task_type == '
		image_
						 image_repo, image_factory)
	else:
		msg = _LE("This task type %(task_type)s is not supported by the "
				  "current deployment of Glance. Please refer the "
				  "documentation provided by OpenStack or your operator "
				  "for more information.") % {'task_type': task_type}
		LOG.error(msg)
		task = task_repo.get(task_id)
		task.fail(msg)
		if task_repo:
			task_repo.save(task)
		else:
		