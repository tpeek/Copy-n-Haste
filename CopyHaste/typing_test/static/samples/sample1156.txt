
rospack = rospkg.RosPack()
path=rospack.get_path('budspeech')
__version__ = '1.1.0'
class ControlMainWindow(QtGui.QMainWindow):
	def __init__(self, parent=None):
		super(ControlMainWindow, self).__init__(parent)
		self.remote=False
		[self.IP,self.usr,self.pwd,self.authusr,self.authpwd]=self.load_yaml()
		reached=self.connect_to_master()
		if not reached:
			self.ask_for_master()
		else:
			self.init_main()
	def init_main(self):
		self.ui =  Ui_MainWindow()
		self.ui.setupUi(self)
		self.ui.label_center.setText('FlatBUDDY - Control V' + __version__)
		self.ui.but_send_com.clicked.connect(lambda: self.send_speech(self.ui.line_speech.text()))
		self.ui.line_speech.returnPressed.connect(lambda: self.send_speech(self.ui.line_speech.text()))
		