
def main(ini_path, log_level=logging.WARNING, 
		 debug_flag=False, vb_flag=False,  mp_procs=1):
	logger = util.console_logger(log_level=log_level)
	
	logging.warning('\nRunning Python ET-Demands')
	if vb_flag:
		logging.warning('  Mimicking VB calculations')
	if debug_flag and mp_procs > 1:
		logging.warning('  Debug mode, disabling multiprocessing')
		mp_procs = 1
	if mp_procs > 1:
		logging.warning('  Multiprocessing mode, {0} cores'.format(mp_procs))
	data = crop_et_data.CropETData()
	data.read_ini(ini_path)
	if debug_flag:
		logger = util.file_logger(
			logger, log_level=logging.DEBUG, output_ws=data.project_ws)
	cells = et_cell.ETCellData()
	cells.set_cell_properties(data.cell_properties_path)
	cells.set_cell_crops(data.cell_crops_p