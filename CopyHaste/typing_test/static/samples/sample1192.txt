
def FileListMacro(FileType):
	return "%sS" % FileType.replace("-", "_").upper()
def ListFileMacro(FileType):
	return "%s_LIST" % FileListMacro(FileType)

class TargetDescBlock(object):
	_Cache_ = {}
	def __new__(Class, Inputs, Outputs, Commands, Dependencies):
		if Outputs[0] in Class._Cache_:
			Tdb = Class._Cache_[Outputs[0]]
			for File in Inputs:
				Tdb.AddInput(File)
		else:
			Tdb = super(TargetDescBlock, Class).__new__(Class)
			Tdb._Init(Inputs, Outputs, Commands, Dependencies)
		return Tdb

	def _Init(self, Inputs, Outputs, Commands, Dependencies):
		self.Inputs = Inputs
		self.Outputs = Outputs
		self.Commands = Commands
		self.Dependencies = Dependencies
		if self.Outputs:
			self.Target = self.Outputs[0]
	