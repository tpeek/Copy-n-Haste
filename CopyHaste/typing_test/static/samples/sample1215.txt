
DESCRIP = 'clear outputs
EPILOG = \
def cellgen(nb, type=None):
	for ws in nb.worksheets:
		for cell in ws.cells:
			if type is None:
				yield cell
			elif cell.cell_type == type:
				yield cell
def strip_after_comments(code_input):
	if code_input.startswith('
		return code_input
	out_lines = []
	for line in code_input.splitlines():
		if not line.startswith('
			break
		if line.startswith('
			break
		out_lines.append(line)
	return '\n'.join(out_lines)
def main():
	parser = ArgumentParser(description=DESCRIP,
							epilog=EPILOG,
							formatter_class=RawDescriptionHelpFormatter)
	parser.add_argument('in_fname', type=str,
						help='input notebook filename')
	parser.add_argument('out_fname', type=str,
						help='output notebook filena