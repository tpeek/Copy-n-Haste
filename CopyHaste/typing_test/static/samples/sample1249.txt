
try:
except ImportError :
class ExtensionManager(Configurable):
	shell = Instance('IPython.core.interactiveshell.InteractiveShellABC',
					 allow_none=True)
	def __init__(self, shell=None, **kwargs):
		super(ExtensionManager, self).__init__(shell=shell, **kwargs)
		self.shell.on_trait_change(
			self._on_ipython_dir_changed, 'ipython_dir'
		)
		self.loaded = set()
	def __del__(self):
		self.shell.on_trait_change(
			self._on_ipython_dir_changed, 'ipython_dir', remove=True
		)
	@property
	def ipython_extension_dir(self):
		return os.path.join(self.shell.ipython_dir, u'extensions')
	def _on_ipython_dir_changed(self):
		ensure_dir_exists(self.ipython_extension_dir)
	def load_extension(self, module_str):
		if module_str in self.loaded:
			ret