
matplotlib.use('Agg')
cwd = os.getcwd()
repo_dir = '/'
for directory in cwd.split('/')[1:]:
	repo_dir = os.path.join(repo_dir, directory)
	if directory == 'climate-analysis':
		break
modules_dir = os.path.join(repo_dir, 'modules')
sys.path.append(modules_dir)
try:
except ImportError:
	raise ImportError('Must run this script
def aggregate_data(df, timescale, method):
	assert timescale in ['monthly', 'seasonal']
	assert method in ['sum', 'mean']
	timescale_dict = {'monthly': '1M', 'seasonal': '3M'}
	aggregated_data = df.groupby(TimeGrouper(freq=timescale_dict[timescale], closed='left'))
	if method == 'sum':
		aggregated_data = aggregated_data.sum()
	elif method == 'mean':
		aggregated_data = aggregated_data.mean()
	aggregated_data = aggregat