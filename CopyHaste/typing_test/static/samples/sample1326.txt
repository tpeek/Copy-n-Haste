
try:
except ImportError:

logging.basicConfig(level=logging.INFO,
					format='DNSServer %(asctime)s %(levelname)s %(message)s',
					datefmt='%H:%M:%S', filemode='a+')
logger = logging.getLogger('DNSServer')


class UDPDNSServer(ThreadingMixIn, UDPServer):
	allow_reuse_address = True

	def __init__(self, server_address, handler, resolver, bind_and_activate=True):
		self.resolver = resolver
		logger.info('starting UDP DNS server at %s:%s' % (server_address[0], server_address[1]))
		UDPServer.__init__(self, server_address, handler, bind_and_activate)


class TCPDNSServer(ThreadingMixIn, TCPServer):
	allow_reuse_address = True

	def __init__(self, server_address, handler, resolver, bind_and_activate=True):
		self.resolver