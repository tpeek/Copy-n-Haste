
try:
except:


def ip_address(q):
	return _ip_address(q)


@lru_cache(1024, timeout=900)
def _resolver(host):
	return [(i[0], i[4][0]) for i in socket.getaddrinfo(host, 0)]


@lru_cache(1024, timeout=900)
def _udp_dns_record(host, qtype, server):
	if isinstance(qtype, str):
		query = dnslib.DNSRecord.question(host, qtype=qtype)
	else:
		query = dnslib.DNSRecord(q=dnslib.DNSQuestion(host, qtype))
	query_data = query.pack()
	sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
	sock.settimeout(3)
	sock.sendto(query_data, server)
	reply_data, reply_address = sock.recv
	record = dnslib.DNSRecord.parse(reply_data)
	return record


@lru_cache(1024, timeout=900)
def _udp_dns_records(host, qtype, server):
	if isinstan