
__version__ = '$Revision: 0.9 $'
__date__ = '$Date: 2007/03/27 04:15:26 $'
__credits__ =
try:
	set
except NameError:
class CycleError(Exception):
	pass
def topsort(pairlist):
	num_parents = {}
	children = {}
	for parent, child in pairlist:
		if not num_parents.has_key( parent ): 
			num_parents[parent] = 0 
		if not num_parents.has_key( child ): 
			num_parents[child] = 0
		num_parents[child] += 1
		children.setdefault(parent, []).append(child)
	answer = [x for x in num_parents.keys() if num_parents[x] == 0]
	for parent in answer: 
		del num_parents[parent]
		if children.has_key( parent ): 
			for child in children[parent]: 
				num_parents[child] -= 1
				if num_parents[child] == 0: 
					answer.append( child )
			del children[parent]
	if