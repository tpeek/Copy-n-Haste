
class ChannelListThread(threading.Thread):
	def __init__(self):
		threading.Thread.__init__(self)
		self.myOverlay = None
		sys.setcheckinterval(25)
		self.chanlist = ChannelList()
		self.paused = False
		self.fullUpdating = True
		
	def log(self, msg, level = xbmc.LOGDEBUG):
		log('ChannelListThread: ' + msg, level)
	def run(self):
		self.log("Starting")
		self.chanlist.exitThread = False
		self.chanlist.readConfig()
		self.chanlist.sleepTime = 1
		
		if self.myOverlay == None:
			self.log("Overlay not defined. Exiting.")
			return
			
		self.chanlist.myOverlay = self.myOverlay
		self.fullUpdating = (self.myOverlay.backgroundUpdating == 0)
		validchannels = 0
		for i in range(self.myOverlay.maxChannels):
			self.chanlist.channels.append(C