
class FLVTagHeader:
	def __init__(self):
		self.tagtype = 0
		self.datasize = 0
		self.timestamp = 0
		self.timestampext = 0
	def readHeader(self, thefile):
		try:
			data = struct.unpack('B', thefile.read(1))[0]
			self.tagtype = (data & 0x1F)
			self.datasize = struct.unpack('>H', thefile.read(2))[0]
			data = struct.unpack('>B', thefile.read(1))[0]
			self.datasize = (self.datasize << 8) | data
			self.timestamp = struct.unpack('>H', thefile.read(2))[0]
			data = struct.unpack('>B', thefile.read(1))[0]
			self.timestamp = (self.timestamp << 8) | data
			self.timestampext = struct.unpack('>B', thefile.read(1))[0]
		except:
			self.tagtype = 0
			self.datasize = 0
			self.timestamp = 0
			self.timestampext = 0
class FLVParser:
	def log(se