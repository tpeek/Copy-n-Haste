
class STRMParser:
	def log(self, msg, level = xbmc.LOGDEBUG):
		xbmc.log('STRMParser: ' + ascii(msg), level)
	def determineLength(self, filename):
		self.log("determineLength " + filename)
		fleName, fleExt = os.path.splitext(filename)
		fleName += '.nfo'
		duration = 0
		durationinseconds = 0
		
		if FileAccess.exists(fleName):
			file = FileAccess.open(fleName, "r")
			dom = parse(file)
			
			try:					
				xmldurationinseconds = dom.getElementsByTagName('durationinseconds')[0].toxml()
				durationinseconds = xmldurationinseconds.replace('<durationinseconds>','').replace('</durationinseconds>','')	
				duration = int(durationinseconds)
			except Exception,e:
				duration = 0
				
			if duration == 0:
				try:
					xmlruntime = dom.getEle