
						unicode_literals)
WRITER_OUTPUT = dict(ffmpeg='mp4', ffmpeg_file='mp4',
					 mencoder='mp4', mencoder_file='mp4',
					 avconv='mp4', avconv_file='mp4',
					 imagemagick='gif', imagemagick_file='gif')
def test_save_animation_smoketest():
	for writer, extension in six.iteritems(WRITER_OUTPUT):
		yield check_save_animation, writer, extension
@cleanup
def check_save_animation(writer, extension='mp4'):
	if not animation.writers.is_available(writer):
		raise KnownFailureTest("writer '%s' not available on this system"
							   % writer)
	fig, ax = plt.subplots()
	line, = ax.plot([], [])
	ax.set_xlim(0, 10)
	ax.set_ylim(-1, 1)
	def init():
		line.set_data([], [])
		return line,
	def animate(i):
		x = np.linspace(0, 10, 100)
		y = np.sin(