
						unicode_literals)
baseline_dir, result_dir = _image_directories(lambda: 'dummy func')
def image_comparison_expect_rms(im1, im2, tol, expect_rms):
	im1 = os.path.join(baseline_dir, im1)
	im2_src = os.path.join(baseline_dir, im2)
	im2 = os.path.join(result_dir, im2)
	shutil.copyfile(im2_src, im2)
	results = compare_images(im1, im2, tol=tol, in_decorator=True)
	if expect_rms is None:
		assert_equal(None, results)
	else:
		assert_not_equal(None, results)
		assert_almost_equal(expect_rms, results['rms'], places=4)
def test_image_compare_basic():
	im1 = 'basn3p02.png'
	im2 = 'basn3p02-minorchange.png'
	image_comparison_expect_rms(im1, im2, tol=10, expect_rms=None)
	image_comparison_expect_rms(im1, im2, tol=0, expect_rms=6.50646)
def test_i