
	ugettext_lazy as _, ungettext_lazy
)
	SAMBA_PROVISIONED_FILE,
	Samba4
)
	validate_netbios_name,
	validate_netbios_names,
	activedirectory_enabled,
	nt4_enabled,
	ldap_enabled
)
	IPAddress, IPNetwork, AddressValueError, NetmaskValueError,
	IPv4Address, IPv6Address,
)
log = logging.getLogger('services.form')
class servicesForm(ModelForm):
	class Meta:
		fields = '__all__'
		model = models.services
	def __init__(self, *args, **kwargs):
		self._force = kwargs.pop('force', False)
		self._extra_events = []
		super(servicesForm, self).__init__(*args, **kwargs)
	def precheck_iscsitarget(self, obj):
		if obj.srv_enable is False:
			connections = notifier().iscsi_active_connections()
			if connections > 0:
				obj.srv_enable = True
				obj.save()
	