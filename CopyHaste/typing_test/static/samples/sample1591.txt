
error_logo = os.path.join(common.addon_path, 'resources', 'images', 'redx.png')
class CloudyResolver(Plugin, UrlResolver, PluginSettings):
	implements = [UrlResolver, PluginSettings]
	name = "cloudy.ec"
	domains = [ "cloudy.ec", "cloudy.eu", "cloudy.sx", "cloudy.ch", "cloudy.com" ]
	def __init__(self):
		p = self.get_setting('priority') or 100
		self.priority = int(p)
		self.net = Net()
	def __get_stream_url(self, media_id, filekey, error_num=0, error_url=None):
		if error_num > 0 and error_url:
			_error_params = '&numOfErrors={0}&errorCode=404&errorUrl={1}'.format(
								error_num, 
								urllib.quote_plus(error_url).replace('.', '%2E')
							)
		else:
			_error_params = ''
		api_call = 'http://www.cloudy.ec/api/player.api.php?{0}&f