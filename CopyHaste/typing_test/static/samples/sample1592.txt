
error_logo = os.path.join(common.addon_path, 'resources', 'images', 'redx.png')
class CloudyvideosResolver(Plugin, UrlResolver, PluginSettings):
	implements = [UrlResolver, PluginSettings]
	name = "cloudyvideos"
	domains = ["cloudyvideos.com"]
	def __init__(self):
		p = self.get_setting('priority') or 100
		self.priority = int(p)
		self.net = Net()
	def get_media_url(self, host, media_id):
		web_url = self.get_url(host, media_id)
		try:
			html = self.net.http_GET(web_url).content
			form_values = {}
			for i in re.finditer('<input type="hidden" name="(.*?)" value="(.*?)"', html):
				form_values[i.group(1)] = i.group(2)
			html = self.net.http_POST(web_url, form_data=form_values).content
			
			r = re.search("file: '([^']+)'",html)
			if 