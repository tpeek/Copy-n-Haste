
error_logo = os.path.join(common.addon_path, 'resources', 'images', 'redx.png')
class EcostreamResolver(Plugin, UrlResolver, PluginSettings):
	implements = [UrlResolver, PluginSettings]
	name = "ecostream"
	domains = [ "ecostream.tv" ]
	profile_path = common.profile_path
	cookie_file = os.path.join(profile_path, 'ecostream.cookies')
	def __init__(self):
		p = self.get_setting('priority') or 100
		self.priority = int(p)
		self.net = Net()
		self.pattern = 'http://((?:www.)?ecostream.tv)/(?:stream|embed)?/([0-9a-zA-Z]+).html'
	def get_media_url(self, host, media_id):
		web_url = self.get_url(host, media_id)
		try:
			html = self.net.http_GET(web_url).content
			if re.search('>File not found!<',html):
				msg = 'File Not Found or removed'
			