
USER_AGENT = 'Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:30.0) Gecko/20100101 Firefox/30.0'
class FilenukeResolver(Plugin, UrlResolver, PluginSettings):
	implements = [UrlResolver, PluginSettings]
	name = "filenuke"
	domains = ["filenuke.com"]
	def __init__(self):
		p = self.get_setting('priority') or 100
		self.priority = int(p)
		self.net = Net()
	def get_media_url(self, host, media_id):
		web_url = self.get_url(host, media_id)
		try:
			headers = {
				'User-Agent': USER_AGENT,
				'Referer': web_url
			}
			html = self.net.http_GET(web_url).content
			
			data = {
					"method_free": "Free",
					"op": "download1",
					"referer": web_url,
					"usr_login": ""
					}
			r = re.findall(r'type="hidden"\s*name="(.+?)"\s*value="(.*?)"', html