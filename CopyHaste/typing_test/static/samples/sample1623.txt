
class GOBLinSharedStruct:
	def __init__(self, featureDimension, lambda_, userNum, W):
		self.W = W
		self.userNum = userNum
		self.d = int(featureDimension)
		self.A = lambda_*np.identity(n = self.d*userNum)
		self.b = np.zeros(featureDimension*userNum)
		self.AInv = np.linalg.inv(self.A)
		self.theta = np.dot(self.AInv, self.b)
		self.STBigWInv = sqrtm( np.linalg.inv(np.kron(W, np.identity(n=self.d))) )
		self.STBigW = sqrtm(np.kron(W, np.identity(n=self.d)))
	
	def updateParameters(self, articlePicked_FeatureVector, click, userID):
		featureVectorV = np.zeros(self.d*self.userNum)
		featureVectorV[int(userID)*self.d : (int(userID)+1)*self.d] =  np.asarray(articlePicked_FeatureVector)
		CoFeaV = np.dot(self.STBigWInv, featureVectorV)
		sel