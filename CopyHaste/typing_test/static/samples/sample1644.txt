
	DefaultTemplateDataProvider, get_template_data
try:
	HAS_JINJA2 = True
	class RelEnvironment(Environment):
		def join_path(self, template, parent):
			return os.path.join(os.path.dirname(parent), template)
except ImportError:
	HAS_JINJA2 = False
class DefaultJinja2DataProvider(DefaultTemplateDataProvider):
	def get_template_data(self, entry, metadata, template):
		rv = DefaultTemplateDataProvider.get_template_data(self, entry,
														   metadata, template)
		rv['path'] = rv['name']
		return rv
class CfgJinja2Generator(CfgGenerator):
	__extensions__ = ['jinja2']
	if HAS_JINJA2:
		__loader_cls__ = FileSystemLoader
		__environment_cls__ = RelEnvironment
	__ignore__ = ["jinja2_include"]
	__priority__ = 50
	def __init__(self, fname, spe