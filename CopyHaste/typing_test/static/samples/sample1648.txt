
__default__ = ["IncludeHelper", "get_specificity", "describe_specificity"]
class IncludeHelper(object):
	def __init__(self, metadata, path):
		self.metadata = metadata
		self.path = path
	def get_basedir(self):
		return os.path.dirname(self.path)
	def files(self, fname, groups=None):
		files = []
		hostfile = os.path.join(self.get_basedir(),
								"%s.H_%s.genshi_include" %
								(fname, self.metadata.hostname))
		if os.path.isfile(hostfile):
			files.append(hostfile)
		allfile = os.path.join(self.get_basedir(), "%s.genshi_include" % fname)
		if os.path.isfile(allfile):
			files.append(allfile)
		if groups is None:
			groups = sorted(self.metadata.groups)
		for group in groups:
			filename = os.path.join(self.get_basedir(),
									"%