
class HomeBrew(Bcfg2.Client.Tools.PkgTool):
	name = 'HomeBrew'
	__execs__ = ["/usr/local/bin/brew"]
	__handles__ = [('Package', 'homebrew')]
	__req__ = {'Package': ['name', 'version']}
	pkgtype = 'homebrew'
	pkgtool = ('/usr/local/bin/brew install %s', ('%s', ['name']))
	def RefreshPackages(self):
		pkgcache = self.cmd.run(["/usr/local/bin/brew",
								 "list", "--versions"]).stdout.splitlines()
		self.installed = {}
		for pkg in pkgcache:
			pkgname, version = pkg.strip().split()
			self.logger.debug(" pkgname: %s version: %s" % (pkgname, version))
			self.installed[pkgname] = version
	def VerifyPackage(self, entry, _):
		self.logger.debug("VerifyPackage: %s : %s" % (entry.get('name'),
													  entry.get('version')))
		if entry.at