
try:
except ImportError:
	SSL = None
class SSL_fileobject(wsgiserver.CP_fileobject):
	ssl_timeout = 3
	ssl_retry = .01
	def _safe_call(self, is_reader, call, *args, **kwargs):
		start = time.time()
		while True:
			try:
				return call(*args, **kwargs)
			except SSL.WantReadError:
				time.sleep(self.ssl_retry)
			except SSL.WantWriteError:
				time.sleep(self.ssl_retry)
			except SSL.SysCallError, e:
				if is_reader and e.args == (-1, 'Unexpected EOF'):
					return ""
				errnum = e.args[0]
				if is_reader and errnum in wsgiserver.socket_errors_to_ignore:
					return ""
				raise socket.error(errnum)
			except SSL.Error, e:
				if is_reader and e.args == (-1, 'Unexpected EOF'):
					return ""
				thirdarg = None
				try:
					thirdarg =