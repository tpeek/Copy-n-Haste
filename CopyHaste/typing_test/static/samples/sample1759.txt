
	agentPath = '/usr/sbin/waagent'
	if(os.path.isfile(agentPath)):
		return agentPath
	user_paths = os.environ['PYTHONPATH'].split(os.pathsep)
	for user_path in user_paths:
		agentPath = os.path.join(user_path, 'waagent')
		if(os.path.isfile(agentPath)):
			return agentPath
	return None
agentPath = searchWAAgent()
if(agentPath):
	waagent = imp.load_source('waagent', agentPath)
else:
	raise Exception("Can't load waagent.")
if not hasattr(waagent, "AddExtensionEvent"):
	def _AddExtensionEvent(*args, **kwargs):
		pass
	waagent.AddExtensionEvent = _AddExtensionEvent
if not hasattr(waagent, "WALAEventOperation"):
	class _WALAEventOperation:
		HeartBeat="HeartBeat"
		Provision = "Provision"
		Install = "Install"
		UnIsntall = "UnInstall"
		Disable