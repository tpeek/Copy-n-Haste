
class plug_null(object):
	def __nonzero__(self):
		return False
class plug(object):
	def __init__(self,node,name=None,shape=None):
		self._shape = shape
		self.name   = name
		self.node   = node
		self.srcs   = []
		self.dsts   = []
		self._fpval = plug_null
		self._bpval = plug_null
		self._shape = None
		self.inst_axis = 1
		self.trainable = True
		
	def has_src(self): return len(self.srcs) > 0
	def has_dst(self): return len(self.dsts) > 0
	def has_upstream(self):
		if len(self.srcs) == 0:
			return self.is_oplug()
		for src in self.srcs:
			if src.has_upstream():
				return True
		return False
	@property
	def path(self):
		return self.node.path + "."+self.name
	def rename(self,newname):
		del self.node.__dict__[self.name]
		self.name = 