
logger = logging.getLogger(__name__)
opCreate, opStart, opStop, opSuspend, opRemove, opWait, opError, opFinish, opRetry, opConfigure, opProvision = range(11)
NO_MORE_NAMES = 'NO-NAME-ERROR'
class XenLinkedDeployment(UserDeployment):
	suggestedTime = 7
	def initialize(self):
		self._name = ''
		self._ip = ''
		self._mac = ''
		self._vmid = ''
		self._reason = ''
		self._task = ''
		self._queue = []
	def marshal(self):
		return '\1'.join(['v1', self._name, self._ip, self._mac, self._vmid, self._reason, pickle.dumps(self._queue), self._task])
	def unmarshal(self, str_):
		vals = str_.split('\1')
		if vals[0] == 'v1':
			self._name, self._ip, self._mac, self._vmid, self._reason, queue, self._task = vals[1:]
			self._queue = pickle.loads(queue)