
logger = logging.getLogger(__name__)
register = template.Library()
@register.simple_tag(name='auth_token', takes_context=True)
def auth_token(context):
	request = context['request']
	return request.session.session_key
@register.simple_tag(name='auth_token_header')
def auth_token_header():
	return AUTH_TOKEN_HEADER
@register.simple_tag(name='js_template_path', takes_context=True)
def js_template_path(context, path):
	context['template_path'] = path
	return ''
@register.simple_tag(name='js_template', takes_context=True)
def js_template(context, template_name, template_id=None):
	template_id = (template_id or 'tmpl_' + template_name).replace('/', '_')
	tmpl = template.loader.get_template(context['template_path'] + '/' + template_name + '.html