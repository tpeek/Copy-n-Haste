
class Host(mongo.MongoObject):
	fields = {
		'name',
		'hostname',
		'ping_timestamp',
		'status',
		'start_timestamp',
		'public_address',
		'auto_public_address',
		'link_address',
		'local_address',
	}
	fields_default = {
		'status': OFFLINE,
	}
	def __init__(self, name=None, **kwargs):
		mongo.MongoObject.__init__(self, **kwargs)
		self.user_count = None
		self.users_online = None
		if 'id' not in kwargs and 'doc' not in kwargs and 'spec' not in kwargs:
			self.id = settings.local.host_id
		self.usage = HostUsage(self.id)
		if name is not None:
			self.name = name
		if self.name is None:
			self.name = utils.random_name()
	@cached_static_property
	def collection(cls):
		return mongo.get_collection('hosts')
	@cached_static_property
	def