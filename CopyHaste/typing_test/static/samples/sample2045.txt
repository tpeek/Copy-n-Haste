
sys.path = [os.path.join(os.path.dirname(os.path.realpath(__file__)),'..')]+sys.path
class Tests(unittest.TestCase):
	
	def test_hello_world(self):
		with tempfile.NamedTemporaryFile(prefix='graftm_test_getaxnseq') as tmp_seq:
			with tempfile.NamedTemporaryFile(prefix='graftm_test_getaxnseq') as tmp_tax:
				Getaxnseq().write_taxonomy_and_seqinfo_files({'seq1': ['k__me','p__you'],
															  'seq2': []},
															 tmp_tax.name,
															 tmp_seq.name)
				expected = "\n".join([','.join(p) for p in [['seqname','tax_id'],
					['seq2','Root'],
					['seq1','p__you']]])+"\n"
				self.assertEqual(expected, open(tmp_seq.name).read())
				expected = '\n'.join(['tax_id,parent_id,rank,tax_name,root,kingdom,phylum,class,order,fam