
if osp.isfile(osp.join(osp.dirname(osp.dirname(osp.realpath(__file__))), ".portage_not_installed")):
	sys.path.insert(0, osp.join(osp.dirname(osp.dirname(osp.realpath(__file__))), "pym"))
portage._internal_caller = True
mysettings = portage.settings
mytrees = portage.db
mtimedb = portage.mtimedb
description =
description = " ".join(description.split())
parser = ArgumentParser(description=description)
parser.parse_args()
if mysettings['ROOT'] != "/":
	out = EOutput()
	msg = "The fixpackages program is not intended for use with " + \
		"ROOT != \"/\". Instead use `emaint --fix movebin` and/or " + \
		"`emaint --fix moveinst."
	for line in wrap(msg, 72):
		out.eerror(line)
	sys.exit(1)
try:
	os.nice(int(mysettings.get("PORTAGE_NICENESS", "0")