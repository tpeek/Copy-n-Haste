
LOG = logging.getLogger(__name__)
def authorize(context, action_name):
	action = 'snapshot_actions:%s' % action_name
	extensions.extension_authorizer('snapshot', action)(context)
class SnapshotActionsController(wsgi.Controller):
	def __init__(self, *args, **kwargs):
		super(SnapshotActionsController, self).__init__(*args, **kwargs)
		LOG.debug("SnapshotActionsController initialized")
	@wsgi.action('os-update_snapshot_status')
	def _update_snapshot_status(self, req, id, body):
		context = req.environ['cinder.context']
		authorize(context, 'update_snapshot_status')
		LOG.debug("body: %s", body)
		try:
			status = body['os-update_snapshot_status']['status']
		except KeyError:
			msg = _("'status' must be specified.")
			raise webob.exc.HTTPBa