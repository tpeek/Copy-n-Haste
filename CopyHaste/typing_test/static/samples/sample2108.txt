
addon=xbmcaddon.Addon(id='plugin.Andy'); ADDON_TITLE=addon.getAddonInfo('name'); DEBUG=False
STRINGS={'do_upload':30000,'upload_id':30001,'upload_url':30002,'no_email_set':30003,'email_sent':30004}
UPLOAD_LINK='http://xbmclogs.com/show.php?id=%s'; UPLOAD_URL='http://xbmclogs.com/';
class LogUploader(object):
	def __init__(self):
		self.__log('started'); self.get_settings(); found_logs=self.__get_logs(); uploaded_logs=[]
		for logfile in found_logs:
			if self.ask_upload(logfile['title']):
				paste_id=self.upload_file(logfile['path'])
				if paste_id: uploaded_logs.append({'paste_id':paste_id,'title':logfile['title']}); self.report_msg(paste_id)
		if uploaded_logs and self.email_address: self.report_mail(self.email_address,uploaded_logs); 