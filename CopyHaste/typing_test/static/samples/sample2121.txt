
CONF = config.CONF
class Manager(object):
	def __init__(self, credentials=None):
		self.auth_version = CONF.identity.auth_version
		if credentials is None:
			self.credentials = cred_provider.get_configured_credentials('user')
		else:
			self.credentials = credentials
		if not self.credentials.is_valid():
			raise exceptions.InvalidCredentials()
		if isinstance(credentials, cred_provider.TestResources):
			creds = self.credentials.credentials
		else:
			creds = self.credentials
		self.auth_provider = get_auth_provider(creds)
		self.client_attr_names = []
def get_auth_provider_class(credentials):
	if isinstance(credentials, auth.KeystoneV3Credentials):
		return auth.KeystoneV3AuthProvider, CONF.identity.uri_v3
	else:
		return auth.KeystoneV