
try:
except ImportError:
					 urlparse, build_opener, string_types)
logger = logging.getLogger(__name__)
DEFAULT_INDEX = 'https://pypi.python.org/pypi'
DEFAULT_REALM = 'pypi'
class PackageIndex(object):
	boundary = b'----------ThIs_Is_tHe_distlib_index_bouNdaRY_$'
	def __init__(self, url=None):
		self.url = url or DEFAULT_INDEX
		self.read_configuration()
		scheme, netloc, path, params, query, frag = urlparse(self.url)
		if params or query or frag or scheme not in ('http', 'https'):
			raise DistlibException('invalid repository: %s' % self.url)
		self.password_handler = None
		self.ssl_verifier = None
		self.gpg = None
		self.gpg_home = None
		self.rpc_proxy = None
		with open(os.devnull, 'w') as sink:
			for s in ('gpg2', 'gpg'):
				try