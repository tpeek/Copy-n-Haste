
sys.dont_write_bytecode = True
def FROM(x):
  if isinstance(x,tuple):
	return ZIP(zipped,file)
  return FILE(x) if x[-4:] == ".csv" else STRING(x)
  
def STRING(str):
  def wrapper():
	for c in str: yield c
  return wrapper
def ZIP(zipped,file): 
  def wrapper():
	with zipfile.ZipFile(zipfile,'r') as z:
	  with z.open(file) as f:
		for line in f:
		  for ch in line:
			yield ch
		  yield "\n"
  return wrapper
def FILE(filename, buffer_size=4096):
  def chunks(filename):
	with open(filename, "rb") as fp:
	  chunk = fp.read(buffer_size)
	  while chunk:
		yield chunk
		chunk = fp.read(buffer_size)
  def wrapper():
	for chunk in chunks(filename):
	  for char in chunk:
		yield char
  return wrapper
def lines(src):
  "Yield each line in a string