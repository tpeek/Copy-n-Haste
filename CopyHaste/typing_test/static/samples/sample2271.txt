
class TestLoadInterfaceDriver(base.BaseTestCase):
	def setUp(self):
		super(TestLoadInterfaceDriver, self).setUp()
		self.conf = config.setup_conf()
		self.conf.register_opts(interface.OPTS)
		config.register_interface_driver_opts_helper(self.conf)
	def test_load_interface_driver_not_set(self):
		with testlib_api.ExpectedException(SystemExit):
			utils.load_interface_driver(self.conf)
	def test_load_interface_driver_wrong_driver(self):
		self.conf.set_override('interface_driver', 'neutron.NonExistentDriver')
		with testlib_api.ExpectedException(SystemExit):
			utils.load_interface_driver(self.conf)
	def test_load_interface_driver_does_not_consume_irrelevant_errors(self):
		self.conf.set_override('interface_driver',
							   'neutron.agent