
vim_mock = MockVimModule()
def SetVimCurrentColumnAndLineValue( column, line_value ):
  vimsupport.CurrentColumn = MagicMock( return_value = column )
  vimsupport.CurrentLineContents = MagicMock( return_value = line_value )
def Setup():
  sys.modules[ 'ycm.vimsupport' ] = MagicMock()
  vimsupport.CurrentFiletypes = MagicMock( return_value = [''] )
  vimsupport.CurrentColumn = MagicMock( return_value = 1 )
  vimsupport.CurrentLineContents = MagicMock( return_value = '' )
@with_setup( Setup )
def AdjustCandidateInsertionText_Basic_test():
  vimsupport.TextAfterCursor = MagicMock( return_value = 'bar' )
  eq_( [ { 'abbr': 'foobar', 'word': 'foo' } ],
	   base.AdjustCandidateInsertionText( [ 'foobar' ] ) )
@with_setup( Setup )
def AdjustCandid