
try:
	x = int("a", 16)
except TypeError:
	str2int = string.atoi
else:
	str2int = int
def getrgb(color):
	try:
		rgb = colormap[color]
	except KeyError:
		try:
			rgb = colormap[string.lower(color)]
		except KeyError:
			rgb = None
	if rgb:
		if isinstance(rgb, type(())):
			return rgb
		colormap[color] = rgb = getrgb(rgb)
		return rgb
	m = re.match("
	if m:
		return (
			str2int(color[1]*2, 16),
			str2int(color[2]*2, 16),
			str2int(color[3]*2, 16)
			)
	m = re.match("
	if m:
		return (
			str2int(color[1:3], 16),
			str2int(color[3:5], 16),
			str2int(color[5:7], 16)
			)
	m = re.match("rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$", color)
	if m:
		return (
			str2int(m.group(1)),
			str2int(m.group(2)),
			str2int(m.group(3))
			)
	m = r