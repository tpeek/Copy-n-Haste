
class FitsViewer(QtGui.QMainWindow):
	def __init__(self, logger):
		super(FitsViewer, self).__init__()
		self.logger = logger
		fig = Figure()
		w = FigureCanvas(fig)
		
		fi = ImageViewCanvas(self.logger)
		fi.enable_autocuts('on')
		fi.set_autocut_params('zscale')
		fi.enable_autozoom('on')
		fi.set_callback('none-move', self.motion)
		fi.set_bg(0.2, 0.2, 0.2)
		fi.ui_setActive(True)
		fi.set_figure(fig)
		self.fitsimage = fi
		fi.get_bindings().enable_all(True)
		vbox = QtGui.QVBoxLayout()
		vbox.setContentsMargins(QtCore.QMargins(2, 2, 2, 2))
		vbox.setSpacing(1)
		vbox.addWidget(w, stretch=1)
		self.readout = QtGui.QLabel("")
		vbox.addWidget(self.readout, stretch=0,
					   alignment=QtCore.Qt.AlignCenter)
		
		hbox = QtGui.QHBoxLayo