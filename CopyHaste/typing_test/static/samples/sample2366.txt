
os.environ['QT_API'] = 'pyqt'
options = ['Qt4Agg', 'GTK', 'GTKAgg', 'MacOSX', 'GTKCairo', 'WXAgg',
		   'TkAgg', 'QtAgg', 'FltkAgg', 'WX']
macos_ver = platform.mac_ver()[0]
if len(macos_ver) > 0:
	matplotlib.use('Qt4Agg')
cmap.add_matplotlib_cmaps()
use_logger = False
logger = log.get_logger(null=not use_logger, log_stderr=True)
fig = plt.figure()
fi = ImageViewCanvas(logger)
fi.enable_autocuts('on')
fi.set_autocut_params('zscale')
fi.set_figure(fig)
fi.get_bindings().enable_all(True)
if len(sys.argv) < 2:
	print("Please provide a FITS file on the command line")
	sys.exit(1)
	
image = AstroImage(logger)
image.load_file(sys.argv[1])
fi.set_image(image)
ax = fi.add_axes()
ax.hold(True)
wd, ht = image.get_size()
l = ax.plot((wd*0.33, wd*0.75)