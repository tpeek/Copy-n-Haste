
class ReadOnlyException(Exception):
	pass
gamedata_connectionstring = config.gamedata_connectionstring
if callable(gamedata_connectionstring):
	gamedata_engine = create_engine("sqlite://", creator=gamedata_connectionstring, echo = config.debug)
else:
	gamedata_engine = create_engine(gamedata_connectionstring, echo = config.debug)
gamedata_meta = MetaData()
gamedata_meta.bind = gamedata_engine
gamedata_session = sessionmaker(bind=gamedata_engine, autoflush=False, expire_on_commit=False)()
try:
	config.gamedata_version = gamedata_session.execute(
			"SELECT `field_value` FROM `metadata` WHERE `field_name` LIKE 'client_build'"
		).fetchone()[0]
except:
	config.gamedata_version = None
saveddata_connectionstring = config.saveddata_connectionstr