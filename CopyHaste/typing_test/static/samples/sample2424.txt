
class TestGnomeMaildirSource(unittest.TestCase):
	def get(self, msg):
		msg = util.sibpath(__file__, msg)
		s = changes.GnomeMaildirSource(None)
		return s.parse_file(open(msg, "r"))
	def read(self, path):
		path = util.sibpath(__file__, path)
		return open(path).read().rstrip()
	def testMsg1(self):
		c = self.get("mail/svn-commits-list.1")
		self.assertEqual(c.who, "lapo")
		self.assertEqual(c.files, ['trunk/22x22/actions/zoom-fit-best.svg', 'trunk/22x22/actions/zoom-in.svg', 
								   'trunk/22x22/actions/zoom-original.svg', 'trunk/22x22/actions/zoom-out.svg', 
								   'trunk/22x22/actions/zoom-fit-best.xcf.bz2', 'trunk/22x22/actions/zoom-in.xcf.bz2', 
				   'trunk/22x22/actions/zoom-original.xcf.bz2', 'trunk/22x22/actions/zoom-out