
def join(path, filename):
	return os.path.join(path, filename if filename[0] != '/' else filename[1:])
def get_files(path):
	files, dirs = set(), set(('/'))
	for (dirpath, dirname, filenames) in os.walk(path):
		dirpath = dirpath[len(path):]
		if dirpath:
			dirs.add(dirpath)
		files.update(os.path.join(dirpath, f) for f in filenames)
	return files, dirs
_CACHE = [None, None]
def find_packages(path, filename_prefix):
	_filename = join(path, filename_prefix)
	_dirname, _prefixname = os.path.split(_filename)
	if _CACHE[0] == _dirname:
	   all_files = _CACHE[1]	
	else:
	_CACHE[0] = _dirname
	try:
  	   all_files = sorted(os.listdir(_dirname))
		except OSError:
	   all_files = []
	_CACHE[1] = all_files
	donewith = []
	found = False
	while len(