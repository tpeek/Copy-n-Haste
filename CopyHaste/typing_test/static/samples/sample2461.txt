
def inittest(
		engine,
		mapsize=(10, 10),
		dwarf_pos=(0, 0),
		kobold_pos=(9, 9),
		shrubberies=20,
		dwarf_sight_radius=2,
		kobold_sprint_chance=.1
):
	phys = engine.new_character('physical', data=nx.grid_2d_graph(*mapsize))
	kobold = phys.new_thing("kobold", kobold_pos)
	kobold['sprint_chance'] = kobold_sprint_chance
	kobold['_image_paths'] = ['atlas://rltiles/base.atlas/kobold_m']
	dwarf = phys.new_thing("dwarf", dwarf_pos)
	dwarf['sight_radius'] = dwarf_sight_radius
	dwarf['seen_kobold'] = False
	dwarf['_image_paths'] = ['atlas://rltiles/base.atlas/dwarf_m']
	n = 0
	locs = sorted(list(phys.place.keys()))
	engine.shuffle(locs)
	shrub_places = []
	while n < shrubberies:
		loc = locs.pop()
		phys.add_thing(
			"shrub" + str(n),
			loc