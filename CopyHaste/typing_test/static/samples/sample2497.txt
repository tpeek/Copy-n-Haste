
force = list
def open_dict_csv(file_path):
	csvfile = None
	try:
		csvfile = open(file_path, 'rb')
		encoding = chardet.detect(csvfile.read())
		if encoding['encoding'] is not None:
			encoding = encoding['encoding'].lower()
		else:
			encoding = 'utf-8'
		csvfile.seek(0)
		return unicodecsv.DictReader(csvfile, encoding=encoding)
	except unicodecsv.csv.Error:
		if csvfile is not None:
			csvfile.close()
		raise
def filter_keys(d, key_whitelist):
	for key in d.keys():
		if key not in key_whitelist:
			d.pop(key)
	return d
def rename_key(d, oldkey, newkey):
	if oldkey in d:
		value = d.pop(oldkey)
		d[newkey] = value
	return d
def get_radrecord(d, resource_fields):
	filtered_dict = rename_key(d, 'category', 'category_name') 
	filtered_dict =