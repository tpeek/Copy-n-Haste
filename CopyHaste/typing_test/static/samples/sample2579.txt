
__author__ = 'swebb'
class PtclTests:
	def __init__(self):
	def constnonrelmagfield(self, x0, v0, q, m, B, t):
		tau = q*B/(m)
		bMatrix = np.matrix([[0.,		 tau[2], -1.*tau[1]],
							 [-1.*tau[2],   0.,	 tau[0]],
							 [tau[1],   -1.*tau[0],   0.]])
		print 'BB = ', bMatrix
		greenFunc = linalg.expm(bMatrix*t)
		print 'greenFunc = ', greenFunc
		vfinal = greenFunc*np.matrix(v0).T
		xfinal = x0 + bMatrix.I*(greenFunc - np.identity(3))*np.matrix(v0).T
		vout = np.zeros(3)
		xout = np.zeros(3)
		vout[0] = vfinal[0,0]
		vout[1] = vfinal[1,0]
		vout[2] = vfinal[2,0]
		xout[0] = xfinal[0,0]
		xout[1] = xfinal[1,0]
		xout[2] = xfinal[2,0]
		return xout, vout
	def constrelmagfield(self, x0, u0, q, m, B, t):
		gamma = np.sqrt(np.dot(u0, u0)/con