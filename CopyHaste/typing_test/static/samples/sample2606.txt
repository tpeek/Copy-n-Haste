
class ResponseException(Exception):
  def __init__(self, handler):
	self.handler = handler
class THttpServer(TServer.TServer):
  def __init__(self,
			   processor,
			   server_address,
			   inputProtocolFactory,
			   outputProtocolFactory=None,
			   server_class=BaseHTTPServer.HTTPServer):
	if outputProtocolFactory is None:
	  outputProtocolFactory = inputProtocolFactory
	TServer.TServer.__init__(self, processor, None, None, None,
		inputProtocolFactory, outputProtocolFactory)
	thttpserver = self
	class RequestHander(BaseHTTPServer.BaseHTTPRequestHandler):
	  def do_POST(self):
		itrans = TTransport.TFileObjectTransport(self.rfile)
		otrans = TTransport.TFileObjectTransport(self.wfile)
		itrans = TTransport.TBufferedTransport(
		  itr