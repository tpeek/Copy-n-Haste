
doc =
__doc__ = doc
try:
except ImportError:
	ArgumentParser = None
CONTENT_ENCODING = 'utf_8'
FS_ENCODING = 'utf_8'
try:
except ImportError:
	magic = None
else:
	try:
		magic.MIME_TYPE
	except AttributeError:
		magic = None
class IsTextFile(object):
	def __init__(self):
		if magic is not None:
			self._call = self._is_text_magic
			self._m = magic.open(magic.MIME_TYPE)
			self._m.load()
		else:
			self._call = self._is_text_encoding
			self._encoding = CONTENT_ENCODING
	def __call__(self, filename):
		return self._call(filename)
	def _is_text_magic(self, filename):
		mime_type = self._m.file(filename)
		if isinstance(mime_type, bytes):
			mime_type = mime_type.decode('ascii', 'replace')
		return mime_type.startswith('text/')
	def _is_text