def main():
	files = glob.glob("*.csv")
	acceptable = { '.txt', '.csv' }
	dataFile = None
	while dataFile == None:
		outfile = input("Give name for output file: ").strip("'\"")
		try:
			dataFile = open(outfile, 'w+')
		except IOError as e:
			print("Try something like 'results.csv'.")
		if os.path.isdir(outfile):
			print("Give a filename, not a directory.")
			dataFile = None
		elif len(outfile) <= 4 or not(outfile[-4:] in acceptable):
			print("Invalid filename. Be sure to include file name and extension, e.g. 'results.csv'.")
			print("Aceptable file types: .txt, .csv")
			if not (dataFile == None):
				dataFile.close()
				os.remove(outfile)
			dataFile = None
	fixedColumns(files, outfile, dataFile)
def fixedColumns(files, outfile, dataFile):
	readers = [csv.reader(open(file)) for file in files]
	data = [ [ row[1] for row in readers[i] ] for i in range(0, len(readers)) ]
	for j in range(0, len(data[0])):
		for i in range(0, len(data) - 1):
			try:
				dataFile.write(data[i][j].strip())
				dataFile.write(",")
			except IndexError:
				print("One of your data columns is longer than the others!")
		try:
			dataFile.write(data[len(data) - 1][j].strip())
			dataFile.write("\n")
		except IndexError:
			print("One of your data columns is longer than the others!")
	dataFile.close()
	print("Done! :)")
if __name__ == "__main__":
	main()