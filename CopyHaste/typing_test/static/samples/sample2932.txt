sys.path.append( '../pymod' )
def transformgeoloc_1():
	drv = gdal.GetDriverByName('MEM')
	geoloc_ds = drv.Create('geoloc_1',2,2,3,gdal.GDT_Float64)
	lon_array = gdalnumeric.asarray([[-117.0,-116.0],
									 [-116.5, -115.5]])
	lat_array = gdalnumeric.asarray([[45.0, 45.5],
									 [44.0, 44.5]])
	
	geoloc_ds.GetRasterBand(1).WriteArray(lon_array)
	geoloc_ds.GetRasterBand(2).WriteArray(lat_array)
	
	wgs84_wkt = osr.GetUserInputAsWKT('WGS84')
	utm_wkt = osr.GetUserInputAsWKT('+proj=utm +zone=11 +datum=WGS84')
	
	ll_utm_transformer = gdal.Transformer(None, None,
										  ['SRC_SRS='+wgs84_wkt,
										   'DST_SRS='+utm_wkt] )
	status = ll_utm_transformer.TransformGeolocations(
		geoloc_ds.GetRasterBand(1),
		geoloc_ds.GetRasterBand(2),
		geoloc_ds.GetRasterBand(3))
	print status
	print geoloc_ds.ReadAsArray()
	return 'success' 
gdaltest_list = [
	transformgeoloc_1,
	]
if __name__ == '__main__':
	gdaltest.setup_run( 'transform_geoloc' )
	gdaltest.run_tests( gdaltest_list )
	gdaltest.summarize()