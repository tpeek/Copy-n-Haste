
LOG = logging.getLogger(__name__)
class APIRouter(cinder.api.openstack.APIRouter):
	ExtensionManager = extensions.ExtensionManager
	def _setup_routes(self, mapper, ext_mgr):
		self.resources['versions'] = versions.create_resource()
		mapper.connect("versions", "/",
					   controller=self.resources['versions'],
					   action='show')
		mapper.redirect("", "/")
		self.resources['volumes'] = volumes.create_resource(ext_mgr)
		mapper.resource("volume", "volumes",
						controller=self.resources['volumes'],
						collection={'detail': 'GET'},
						member={'action': 'POST'})
		self.resources['types'] = types.create_resource()
		mapper.resource("type", "types",
						controller=self.resources['types'])
		self.resources['snapshots'] = snapshots.