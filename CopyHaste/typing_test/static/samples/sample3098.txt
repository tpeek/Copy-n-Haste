itemset_1_cnt = 0
itemset_2_cnt = 0
itemset_1_last = None
itemset_2_last = None
THRESHOLD = 100
dict = {}
for line in sys.stdin:
		line = line.strip()
		tokens = re.split(r'\s+', line)
		items = tokens[0].split(",")
		i1 = items[0]
		i2 = items[1]
		
		if not itemset_1_last:
			itemset_1_last = i1
		
		if itemset_1_last != i1:
			itemset_1_last = i1
			itemset_1_cnt = int(tokens[1])
			itemset_2_last = None
			itemset_2_cnt = 0
		else:
			if i2 == '*':
				itemset_1_cnt += int(tokens[1])
			else:
				if itemset_2_last != tokens[0]:
					if itemset_1_cnt >= THRESHOLD and itemset_2_cnt >= THRESHOLD:
						confidence = (itemset_2_cnt * 1.0) / itemset_1_cnt
						dict[itemset_2_last] = confidence
					itemset_2_last = tokens[0]
					itemset_2_cnt = int(tokens[1]) 
				else:
					itemset_2_cnt += int(tokens[1])
if itemset_1_cnt >= THRESHOLD and itemset_2_cnt >= THRESHOLD:
	confidence = (itemset_2_cnt * 1.0) / itemset_1_cnt
	dict[itemset_2_last] = confidence
print '=== Top 5 Confidence ==='
sorted_dict = sorted(dict.items(), key=lambda x:(-x[1], x[0]))
for j,k in sorted_dict[:5]:
	print '%s\t%f' %(j,k)