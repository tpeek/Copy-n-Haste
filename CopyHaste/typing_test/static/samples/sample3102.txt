--- src/cairomodule.c
+++ src/cairomodule.c
@@ -127,7 +127,7 @@
   0,
-
+
   &PycairoSVGSurface_Type,
   0,
@@ -223,7 +223,7 @@
   if (PyType_Ready(&PycairoPSSurface_Type) < 0)
	 return;
-
+
   if (PyType_Ready(&PycairoSVGSurface_Type) < 0)
	 return;
@@ -305,7 +305,7 @@
   PyModule_AddObject(m, "PSSurface", (PyObject *)&PycairoPSSurface_Type);
 
-
+
   Py_INCREF(&PycairoSVGSurface_Type);
   PyModule_AddObject(m, "SVGSurface", (PyObject *)&PycairoSVGSurface_Type);
@@ -379,7 +379,7 @@
   PyModule_AddIntConstant(m, "HAS_PS_SURFACE", 0);
-
+
   PyModule_AddIntConstant(m, "HAS_SVG_SURFACE", 1);
   PyModule_AddIntConstant(m, "HAS_SVG_SURFACE", 0);
--- src/private.h
+++ src/private.h
@@ -86,7 +86,7 @@
 extern PyTypeObject PycairoPSSurface_Type;
 
-
+
 extern PyTypeObject PycairoSVGSurface_Type;
 
--- src/pycairo.h
+++ src/pycairo.h
@@ -182,7 +182,7 @@
 
-
+
 
--- src/surface.c
+++ src/surface.c
@@ -83,7 +83,7 @@
	 type = &PycairoPSSurface_Type;
	 break;
-
+
   case CAIRO_SURFACE_TYPE_SVG:
	 type = &PycairoSVGSurface_Type;
	 break;
@@ -1015,7 +1015,7 @@
 
 
 /* Class SVGSurface(Surface) ----------------------------------------------- */
-
+
 
 static PyObject *
@@ -1125,7 +1125,7 @@
   0,								  /* tp_is_gc */
   0,								  /* tp_bases */
 };
-
+
--- wscript
+++ wscript
@@ -1,6 +1,7 @@
+
 
 top = '.'
 out = 'build_directory'
@@ -11,6 +12,17 @@
 cairo_version_required = '1.10.0'
 
 
+def check_svg():
+  if os.environ.get('PYCAIRO_DISABLE_SVG', None) is None:
+	return_code = subprocess.call(['pkg-config', '--exists', 'cairo-svg'])
+	if return_code == 0:
+	  return True
+	else:
+	  return False
+  else:
+	return False
+
+
 def options(ctx):
   print('  %s/options()' %d)
   ctx.tool_options('gnu_dirs')
@@ -39,6 +51,8 @@
   ctx.define('PYCAIRO_VERSION_MAJOR', version[0])
   ctx.define('PYCAIRO_VERSION_MINOR', version[1])
   ctx.define('PYCAIRO_VERSION_MICRO', version[2])
+  if check_svg():
+	ctx.define('PYCAIRO_ENABLE_SVG', 1)
 
   ctx.write_config_header('src/config.h')