
class TestAdminAvailable(base.TestCase):
	def setUp(self):
		super(TestAdminAvailable, self).setUp()
		self.useFixture(fake_config.ConfigFixture())
		self.stubs.Set(config, 'TempestConfigPrivate', fake_config.FakePrivate)
	def run_test(self, tenant_isolation, use_accounts_file, admin_creds):
		cfg.CONF.set_default('allow_tenant_isolation',
							 tenant_isolation, group='auth')
		if use_accounts_file:
			accounts = [{'username': 'u1',
						 'tenant_name': 't1',
						 'password': 'p'},
						{'username': 'u2',
						 'tenant_name': 't2',
						 'password': 'p'}]
			if admin_creds == 'role':
				accounts.append({'username': 'admin',
								 'tenant_name': 'admin',
								 'password': 'p',
								 'roles': ['admin']})
			elif admin_cred