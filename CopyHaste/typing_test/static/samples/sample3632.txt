__version__ = "0.2"
i8 = _binary.i8
i16 = _binary.i16le
i32 = _binary.i32le
o8 = _binary.o8
def _accept(prefix):
	return len(prefix) >= 6 and i16(prefix[4:6]) in [0xAF11, 0xAF12]
class FliImageFile(ImageFile.ImageFile):
	format = "FLI"
	format_description = "Autodesk FLI/FLC Animation"
	def _open(self):
		s = self.fp.read(128)
		magic = i16(s[4:6])
		if not (magic in [0xAF11, 0xAF12] and
				i16(s[14:16]) in [0, 3] and
				s[20:22] == b"\x00\x00"):
			raise SyntaxError("not an FLI/FLC file")
		self.mode = "P"
		self.size = i16(s[8:10]), i16(s[10:12])
		duration = i32(s[16:20])
		if magic == 0xAF11:
			duration = (duration * 1000) / 70
		self.info["duration"] = duration
		palette = [(a, a, a) for a in range(256)]
		s = self.fp.read(16)
		sel