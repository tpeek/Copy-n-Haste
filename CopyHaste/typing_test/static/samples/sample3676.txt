class MaxAverageDurationTestCase(test.TestCase):
	def test_config_schema(self):
		properties = {
			"max_avg_duration": 0
		}
		self.assertRaises(jsonschema.ValidationError,
						  max_average_duration.MaxAverageDuration.validate,
						  properties)
	def test_result(self):
		sla1 = max_average_duration.MaxAverageDuration(42)
		sla2 = max_average_duration.MaxAverageDuration(3.62)
		for sla in [sla1, sla2]:
			sla.add_iteration({"duration": 3.14})
			sla.add_iteration({"duration": 6.28})
		self.assertTrue(sla1.result()["success"])
		self.assertFalse(sla2.result()["success"])
		self.assertEqual("Passed", sla1.status())
		self.assertEqual("Failed", sla2.status())
	def test_result_no_iterations(self):
		sla = max_average_duration.MaxAverageDur