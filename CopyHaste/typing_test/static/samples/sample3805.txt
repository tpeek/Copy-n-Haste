STEP = 10000
MINX = 80000
MINY = 4700000
MAXX = 720000
MAXY = 5110000
shutil.rmtree('tile-entries', True)
os.mkdir('tile-entries')
t_srs = osr.SpatialReference()
t_srs.ImportFromEPSG(26914)
s_ds = ogr.Open('cutline-map.shp')
s_layer = s_ds.GetLayerByIndex(0)
for x1 in range(MINX, MAXX, STEP):
	for y1 in range(MINY, MAXY, STEP):
		left = x1
		top = y1
		right = x1 + STEP
		bottom = y1 + STEP
		edge = ogr.Geometry(ogr.wkbLinearRing)
		edge.AssignSpatialReference(t_srs)
		edge.AddPoint(left, top)
		edge.AddPoint(right, top)
		edge.AddPoint(right, bottom)
		edge.AddPoint(left, bottom)
		edge.CloseRings()
		cutline = ogr.Geometry(ogr.wkbPolygon)
		cutline.AddGeometry(edge)
		s_layer.SetSpatialFilter(cutline)
		entries = sorted(set([feature.GetFi