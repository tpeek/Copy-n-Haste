log = logging.getLogger(__name__)
config_file = open(settings.REPO_ROOT / "docs" / "config.ini")
config = ConfigParser.ConfigParser()
config.readfp(config_file)
def doc_url(request=None):
	def get_online_help_info(page_token=None):
		def get_config_value_with_default(section_name, option, default_option="default"):
			try:
				return config.get(section_name, option)
			except (ConfigParser.NoOptionError, AttributeError):
				log.debug("Didn't find a configuration option for '%s' section and '%s' option", section_name, option)
				return config.get(section_name, default_option)
		def get_doc_url():
			return "{url_base}/{language}/{version}/{page_path}".format(
				url_base=config.get("help_settings", "url_base"),
				language=get_config_val