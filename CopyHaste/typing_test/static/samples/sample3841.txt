@world.absorb
def create_component_instance(step, category, component_type=None, is_advanced=False, advanced_component=None):
	assert_in(category, ['advanced', 'problem', 'html', 'video', 'discussion'])
	component_button_css = 'span.large-{}-icon'.format(category.lower())
	if category == 'problem':
		module_css = 'div.xmodule_CapaModule'
	elif category == 'advanced':
		module_css = 'div.xmodule_{}Module'.format(advanced_component.title())
	else:
		module_css = 'div.xmodule_{}Module'.format(category.title())
	module_count_before = len(world.browser.find_by_css(module_css))
	world.disable_jquery_animations()
	world.css_click(component_button_css)
	if category in ('problem', 'html', 'advanced'):
		world.wait_for_invisible(component_button_css)