class AntennaModule(mp_module.MPModule):
	def __init__(self, mpstate):
		super(AntennaModule, self).__init__(mpstate, "antenna", "antenna pointing module")
		self.gcs_location = None
		self.last_bearing = 0
		self.last_announce = 0
		self.add_command('antenna', self.cmd_antenna, "antenna link control")
	def cmd_antenna(self, args):
		if len(args) != 2:
			if self.gcs_location is None:
				print("GCS location not set")
			else:
				print("GCS location %s" % str(self.gcs_location))
			return
		self.gcs_location = (float(args[0]), float(args[1]))
	def mavlink_packet(self, m):
		if self.gcs_location is None and self.module('wp').wploader.count() > 0:
			home = self.module('wp').wploader.wp(0)
			self.gcs_location = (home.x, home.y)
			print("An