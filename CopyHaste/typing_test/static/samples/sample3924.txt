DOC_DIR = os.path.join(os.path.dirname(__file__), 'mmap_app')
class Server(BaseHTTPServer.HTTPServer):
  def __init__(self, handler, address='', port=9999, module_state=None):
	BaseHTTPServer.HTTPServer.__init__(self, (address, port), handler)
	self.allow_reuse_address = True
	self.module_state = module_state
class Handler(BaseHTTPServer.BaseHTTPRequestHandler):
  def do_GET(self):
	scheme, host, path, params, query, frag = urlparse.urlparse(self.path)
	if path == '/data':
	  state = self.server.module_state
	  data = {'lat': state.lat,
			  'lon': state.lon,
			  'heading': state.heading,
			  'alt': state.alt,
			  'airspeed': state.airspeed,
			  'groundspeed': state.groundspeed}
	  self.send_response(200)
	  self.end_headers()
	  self.w