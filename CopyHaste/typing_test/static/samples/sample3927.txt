class ParamState:
	def __init__(self, mav_param, logdir, vehicle_name, parm_file):
		self.mav_param_set = set()
		self.mav_param_count = 0
		self.param_period = mavutil.periodic_event(1)
		self.fetch_one = 0
		self.mav_param = mav_param
		self.logdir = logdir
		self.vehicle_name = vehicle_name
		self.parm_file = parm_file
	def handle_mavlink_packet(self, master, m):
		if m.get_type() == 'PARAM_VALUE':
			param_id = "%.16s" % m.param_id
			if m.param_index != -1 and m.param_index != 65535 and m.param_index not in self.mav_param_set:
				added_new_parameter = True
				self.mav_param_set.add(m.param_index)
			else:
				added_new_parameter = False
			if m.param_count != -1:
				self.mav_param_count = m.param_count
			self.mav_param[str(param_id