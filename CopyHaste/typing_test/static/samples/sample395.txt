
try:
except ImportError:
	boto = None
else:
class CallbackModule(object):
	def __init__(self):
		self.enable_sqs = 'ANSIBLE_ENABLE_SQS' in os.environ
		if not self.enable_sqs:
			return
		if not boto:
			raise ImportError(
				"The sqs callback module requires the boto Python module, "
				"which is not installed or was not found."
			)
		self.start_time = time.time()
		if not 'SQS_REGION' in os.environ:
			print 'ANSIBLE_ENABLE_SQS enabled but SQS_REGION ' \
				  'not defined in environment'
			sys.exit(1)
		self.region = os.environ['SQS_REGION']
		try:
			self.sqs = boto.sqs.connect_to_region(self.region)
		except NoAuthHandlerFound:
			print 'ANSIBLE_ENABLE_SQS enabled but cannot connect ' \
				  'to AWS due invalid credentials'
			sy