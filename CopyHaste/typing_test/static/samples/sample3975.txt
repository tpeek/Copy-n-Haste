register = template.Library()
counter = 1 
class TestPoint(object):
  def __init__(self):
	self.x = 1.5
	self.y = 2.1
def incrementcounter():
  global counter
  counter = (counter%10000)+1
  return counter
@register.filter
def get_attr(obj, val):
  return getattr(obj, val)
@register.simple_tag
def protocolversion():
  return str(settings.PROTOCOL_VERSION)
@register.simple_tag
def cssversion():
  return str(settings.CSS_VERSION)
@register.simple_tag
def playerbadge(badge):
  global counter
  output = % {'title' :str(badge)+' badge',
		 'id'	:str(badge)+'-badge-'+str(counter),
		 'image' :str(badge)}
  counter = (counter%10000)+1
  return output
@register.simple_tag
def playerinfobutton(player):
  return infopopup('playerinfo', 'player info',