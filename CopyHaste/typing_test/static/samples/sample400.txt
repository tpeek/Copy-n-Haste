
DOCUMENTATION =
EXAMPLES =
try:
except ImportError:
	print "failed=True msg='boto required for this module'"
	sys.exit(1)
def present(connection, module):
	profile_name = module.params.get('instance_profile_name')
	role_name =  module.params.get('role_name')
	policies = module.params.get('policies')
	fetched_profile = None
	fetched_role = None
	profile_arn = None
	role_arn = None
	try:
		fetched_profile = connection.get_instance_profile(profile_name)
	except boto.exception.BotoServerError as bse:
		pass
	if not fetched_profile:
		instance_profile = connection.create_instance_profile(profile_name)
		profile_arn = instance_profile.arn
	else:
		profile_arn = fetched_profile.arn
	try:
		fetched_role = connection.get_role(role_name)
	except bot