class AutoExpand:
	menudefs = [
		('edit', [
			('E_xpand Word', '<<expand-word>>'),
		 ]),
	]
	wordchars = string.ascii_letters + string.digits + "_"
	def __init__(self, editwin):
		self.text = editwin.text
		self.state = None
	def expand_word_event(self, event):
		"Replace the current word with the next expansion."
		curinsert = self.text.index("insert")
		curline = self.text.get("insert linestart", "insert lineend")
		if not self.state:
			words = self.getwords()
			index = 0
		else:
			words, index, insert, line = self.state
			if insert != curinsert or line != curline:
				words = self.getwords()
				index = 0
		if not words:
			self.text.bell()
			return "break"
		word = self.getprevword()
		self.text.delete("insert - %d chars" % len(