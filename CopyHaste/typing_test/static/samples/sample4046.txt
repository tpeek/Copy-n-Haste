class Idb(bdb.Bdb):
	def __init__(self, gui):
		self.gui = gui
		bdb.Bdb.__init__(self)
	def user_line(self, frame):
		if self.in_rpc_code(frame):
			self.set_step()
			return
		message = self.__frame2message(frame)
		self.gui.interaction(message, frame)
	def user_exception(self, frame, info):
		if self.in_rpc_code(frame):
			self.set_step()
			return
		message = self.__frame2message(frame)
		self.gui.interaction(message, frame, info)
	def in_rpc_code(self, frame):
		if frame.f_code.co_filename.count('rpc.py'):
			return True
		else:
			prev_frame = frame.f_back
			if prev_frame.f_code.co_filename.count('Debugger.py'):
				return False
			return self.in_rpc_code(prev_frame)
	def __frame2message(self, frame):
		code = frame.f_code
		filename