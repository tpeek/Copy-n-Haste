db = sqlite3.connect('OpenCL.docset/Contents/Resources/docSet.dsidx')
cur = db.cursor()
try: cur.execute('DROP TABLE searchIndex;')
except: pass
cur.execute('CREATE TABLE searchIndex(id INTEGER PRIMARY KEY, name TEXT, type TEXT, path TEXT);')
cur.execute('CREATE UNIQUE INDEX anchor ON searchIndex (name, type, path);')
docpath = 'OpenCL.docset/Contents/Resources/Documents'
def patch_pdf_link(file):
	f = open(file, 'r')
	filedata = f.read()
	f.close()
	newdata = filedata.replace("http://www.khronos.org/registry/cl/specs/","")
	f = open(file, 'w')
	f.write(newdata)
	f.close()
def parse_enum_file(file_path):
	prog = re.compile('CL\w+')
	f = open(os.path.join(file_path, 'enums.html'), "r")
	lines = f.readlines()
	f.close()
	for line in lines:
		