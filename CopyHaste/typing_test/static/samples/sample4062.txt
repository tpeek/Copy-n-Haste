sys.setdefaultencoding("utf-8")
db = sqlite3.connect('OpenEdge.docset/Contents/Resources/docSet.dsidx')
cur = db.cursor()
try: cur.execute('DROP TABLE searchIndex;')
except: pass
cur.execute('CREATE TABLE searchIndex(id INTEGER PRIMARY KEY, name TEXT, type TEXT, path TEXT);')
cur.execute('CREATE UNIQUE INDEX anchor ON searchIndex (name, type, path);')
docpath = 'OpenEdge.docset/Contents/Resources/Documents'
files = []
for name in os.listdir(docpath):
	if os.path.isfile(os.path.join(docpath,name)):
		files.append(name)
		
for file in files:
   soup = BeautifulSoup(open(os.path.join(docpath,file)))
   any = re.compile('.*')
	
   for tag in soup.find_all('a', {'href':any}):
	   name = tag.text.strip()
	   path = tag.attrs['href'].strip()
	
	  