if sys.platform != 'win32':
else:
	lockf, LOCK_EX, LOCK_UN = None, None, None
class TestOA (unittest.TestCase):
	
	def setUp(self):
		self.testdir = tempfile.mkdtemp(prefix='testOA-')
		self.src_dir = join(self.testdir, 'sources')
		sources_dir = join(dirname(__file__), 'sources')
		shutil.copytree(sources_dir, self.src_dir)
		self.s3 = FakeS3()
	
	def tearDown(self):
		shutil.rmtree(self.testdir)
		remove(self.s3._fake_keys)
	def response_content(self, url, request):
		scheme, host, path, _, query, _ = urlparse(url.geturl())
		data_dirname = join(dirname(__file__), 'data')
		local_path = None
		
		if host == 'fake-s3.local':
			return response(200, self.s3._read_fake_key(path))
		
		if (host, path) == ('data.acgov.org', '/api/geospatial/8e