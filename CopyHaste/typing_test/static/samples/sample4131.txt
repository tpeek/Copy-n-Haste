class TestEsri2GeoJSON (unittest.TestCase):
	
	def setUp(self):
		self.testdir = tempfile.mkdtemp(prefix='testEsri2GeoJSON-')
	
	def tearDown(self):
		rmtree(self.testdir)
	def response_content(self, url, request):
		scheme, host, path, _, query, _ = urlparse(url.geturl())
		data_dirname = join(dirname(__file__), 'data')
		local_path = None
		
		if (host, path) == ('www.carsonproperty.info', '/ArcGIS/rest/services/basemap/MapServer/1/query'):
			qs = parse_qs(query)
			body_data = parse_qs(request.body) if request.body else {}
			if qs.get('returnIdsOnly') == ['true']:
				local_path = join(data_dirname, 'us-ca-carson-ids-only.json')
			elif qs.get('returnCountOnly') == ['true']:
				local_path = join(data_dirname, 'us-ca-carson-count-only.