class ErrorController(BaseController):
	def document(self):
		request = self._py_object.request
		resp = request.environ.get('pylons.original_response')
		content = literal(resp.body) or cgi.escape(request.GET.get('message', ''))
		page = error_document_template % \
			dict(prefix=request.environ.get('SCRIPT_NAME', ''),
				 code=cgi.escape(request.GET.get('code', str(resp.status_int))),
				 message=content)
		return page
	def img(self, id):
		return self._serve_file('/'.join(['media/img', id]))
	def style(self, id):
		return self._serve_file('/'.join(['media/style', id]))
	def _serve_file(self, path):
		request = self._py_object.request
		request.environ['PATH_INFO'] = '/%s' % path
		return PkgResourcesParser('pylons', 'pylons')(request.e