def copy_if_out_of_date(original, derived):
	if (not os.path.exists(derived) or
		os.stat(derived).st_mtime < os.stat(original).st_mtime):
		try:
			shutil.copyfile(original, derived)
		except IOError:
			if os.path.basename(original) == 'matplotlibrc':
				msg = "'%s' not found. " % original + \
					  "Did you run `python setup.py build`?"
				raise IOError(msg)
			else:
				raise
def check_build():
	build_dirs = ['build', 'build/doctrees', 'build/html', 'build/latex',
				  'build/texinfo', '_static', '_templates']
	for d in build_dirs:
		try:
			os.mkdir(d)
		except OSError:
			pass
def doctest():
	os.system('sphinx-build -b doctest -d build/doctrees . build/doctest')
def linkcheck():
	os.system('sphinx-build -b linkcheck -d build/doctr