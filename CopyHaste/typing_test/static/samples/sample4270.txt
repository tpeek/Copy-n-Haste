class Cache(object):
	def __init__(self, ydl):
		self._ydl = ydl
	def _get_root_dir(self):
		res = self._ydl.params.get('cachedir')
		if res is None:
			cache_root = compat_getenv('XDG_CACHE_HOME', '~/.cache')
			res = os.path.join(cache_root, 'youtube-dl')
		return compat_expanduser(res)
	def _get_cache_fn(self, section, key, dtype):
		assert re.match(r'^[a-zA-Z0-9_.-]+$', section), \
			'invalid section %r' % section
		assert re.match(r'^[a-zA-Z0-9_.-]+$', key), 'invalid key %r' % key
		return os.path.join(
			self._get_root_dir(), section, '%s.%s' % (key, dtype))
	@property
	def enabled(self):
		return self._ydl.params.get('cachedir') is not False
	def store(self, section, key, data, dtype='json'):
		assert dtype in ('json',)
		if not se