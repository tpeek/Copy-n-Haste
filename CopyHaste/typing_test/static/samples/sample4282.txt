class CliMerge(tool.Tool):
	def __init__(self, dbstate, user, options_class, name, callback=None):
		uistate = user.uistate
		tool.Tool.__init__(self, dbstate, options_class, name)
		self.dbstate = dbstate
		self.run_tool()
	def run_tool(self):
		obj_type = self.options.handler.options_dict['type']
		primary_id = self.options.handler.options_dict['primary']
		secondary_id = self.options.handler.options_dict['secondary']
		if not primary_id or not secondary_id:
			raise MergeError("Both primary and secondary object IDs need to "
				"be specified.")
		if not obj_type:
			id2type = {'I':'Person', 'F':'Family', 'E':'Event', 'P': 'Place',
					   'C': 'Citation', 'S':'Source', 'R':'Repository',
					   'O':'Media', 'N':'Note'}
			obj_type = id2