def main(index_url, rosdistro_name):
	index = get_index(index_url)
	try:
		distribution_file = get_distribution_file(index, rosdistro_name)
	except RuntimeError as e:
		print("Could not load distribution file for distro '%s': %s" % (rosdistro_name, e), file=sys.stderr)
		return False
	success = True
	for repo_name in sorted(distribution_file.repositories.keys()):
		sys.stdout.write('.')
		sys.stdout.flush()
		repo = distribution_file.repositories[repo_name]
		repos = [repo.release_repository, repo.source_repository, repo.doc_repository]
		for repo in [r for r in repos if r]:
			if repo.url.startswith('file://'):
				print()
				print("Repository '%s' with url '%s' must not be a local 'file://' url" % (repo_name, repo.url), file=sys.stderr)
