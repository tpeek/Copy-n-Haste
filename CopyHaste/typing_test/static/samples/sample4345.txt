dont_bracket = ['uri', 'md5sum']
def paddify(s, l):
	a = s.split('\n')
	buf = ''
	pad = '  ' * l
	for i, r in enumerate(a[:-1]):
		buf += "%s%s\n" % (pad, r)
	return buf
def quote_if_necessary(s):
	if type(s) is list:
		return [quote_if_necessary(a) for a in s]
	return re.search('{a: (.*)}\n', yaml.dump({'a': s})).group(1)
def prn(n, nm, lvl):
	pad = '  ' * lvl
	if isinstance(n, list):
		return "%s%s: [%s]\n" % (pad, nm, ', '.join(quote_if_necessary(n)))
	elif n is None:
		return "%s%s:\n" % (pad, nm)
	elif isinstance(n, str):
		if len(n.split('\n')) > 1:
			return "%s%s: |\n%s" % (pad, nm, paddify(n, lvl+1))
		else:
			if nm in dont_bracket:
				return "%s%s: %s\n" % (pad, nm, quote_if_necessary(n))
			return "%s%s: [%s]\n" % (pad, nm, ', 