
class ModeModule(mp_module.MPModule):
	def __init__(self, mpstate):
		super(ModeModule, self).__init__(mpstate, "mode")
		self.add_command('mode', self.cmd_mode, "mode change")
		self.add_command('guided', self.cmd_guided, "fly to a clicked location on map")
	def cmd_mode(self, args):
		mode_mapping = self.master.mode_mapping()
		if mode_mapping is None:
			print('No mode mapping available')
			return
		if len(args) != 1:
			print('Available modes: ', mode_mapping.keys())
			return
		if args[0].isdigit():
			modenum = int(args[0])
		else:
			mode = args[0].upper()
			if mode not in mode_mapping:
				print('Unknown mode %s: ' % mode)
				return
			modenum = mode_mapping[mode]
		self.master.set_mode(modenum)
	def unknown_command(self, args):