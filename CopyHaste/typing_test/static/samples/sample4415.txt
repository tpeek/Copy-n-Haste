FOREIGN_KEY_HINTS = {
	'source': [
		{
			'referred_table': 'revision',
			'referred_columns': ['repository_id', 'sha'],
			'constrained_columns': ['repository_id', 'revision_sha'],
		}
	]
}
class SqlExporter(object):
	def __init__(self, engine):
		self.engine = engine
		self.inspector = reflection.Inspector.
		self.meta = MetaData()
		with warnings.catch_warnings():
			warnings.simplefilter("ignore", category=sa_exc.SAWarning)
			self.meta.reflect(bind=engine)
		self.index = self._build_relationship_index()
		self.already_exported = defaultdict(set)
	def _build_relationship_index(self):
		def resolve_columns(table, columns):
			return [getattr(table.c, column) for column in columns]
		index = defaultdict(lambda: defaultdict(list))
		for ta