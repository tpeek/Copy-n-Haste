def abort():
	print('Aborted!')
	sys.exit(1)
def get_input(name, default=None, required=True, choices=None):
	output = name + ' ? '
	if default:
		output += '[%s] ' % (default,)
	if choices:
		output += '(%s) ' % ('|'.join(choices),)
	value = raw_input(output)
	if not value:
		value = default
	if required and not value:
		abort()
	return value
def get_repo(id_):
	if len(id_) == 40:
		repo = Repository.query.get(id_)
	else:
		repo = Repository.query.filter_by(url=id_).first()
	if not repo:
		print("Repository not found")
		sys.exit(1)
	return repo
app = create_app()
app_context = app.app_context()
app_context.push()
parser = argparse.ArgumentParser(description='Manage repositories')
subparsers = parser.add_subparsers(dest='command')
parser_a