
class ChangesResource(HtmlResource):
	def getChild(self, path, req):
		if path == '':
			return Redirect('..')
		num = int(path)
		c = self.getStatus(req).getChange(num)
		if not c:
			return NoResource("No change number '%d'" % num)
		return ChangeResource(c)
class ChangeResource(HtmlResource):
	def __init__(self, change):
		self.change = change
	def getTitle(self, request):
		status = self.getStatus(request)
		p = status.getProjectName()
		if len(self.change.revision) == 40:
			return '%s - %s - commit %s' % (p, self.change.project, self.change.revision[:8])
		else:
			return '%s - %s - revision
	def body(self, request):
		data = '<div class="changeset">\n'
		data += '<ul>'
		if self.change.project:
			data += '<li>Project: <a href="../%