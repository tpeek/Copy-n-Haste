
class JhStatusResourceBuildStep(StatusResourceBuildStep):
	def getTitle(self, request):
		buildbot_service = request.site.buildbot_service
		s = self.step_status
		b = s.getBuild()
		builder_name = b.getBuilder().getName()
		for slave in buildbot_service.slaves:
			if builder_name.endswith(slave):
				slave_name = slave
				module_name = builder_name[:-len(slave)-1]
				break
		else:
			slave_name = None
			module_name = None
		status = self.getStatus(request)
		p = status.getProjectName()
		if slave_name:
			return '%s - %s - build
		return '%s - %s' % (p, builder_name)
	def body(self, req):
		s = self.step_status
		step_name = s.getName().split(' ')[-1]
		data = ''
		if not s.isFinished():
			data += ('<h2>Not Finished</h2>\n'
					 '<p>