
__all__ = ["Error", "encode", "decode"]
class Error(Exception):
	pass
def encode(in_file, out_file, name=None, mode=None):
	try:
		if in_file == '-':
			in_file = sys.stdin
		elif isinstance(in_file, basestring):
			if name is None:
				name = os.path.basename(in_file)
			if mode is None:
				try:
					mode = os.stat(in_file).st_mode
				except AttributeError:
					pass
			in_file = open(in_file, 'rb')
			opened_files.append(in_file)
			out_file = sys.stdout
		elif isinstance(out_file, basestring):
			out_file = open(out_file, 'wb')
			opened_files.append(out_file)
			name = '-'
		if mode is None:
			mode = 0666
		data = in_file.read(45)
		while len(data) > 0:
			out_file.write(binascii.b2a_uu(data))
			data = in_file.read(45)
		out_file.w