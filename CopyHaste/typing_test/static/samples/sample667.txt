
if sphinx.__version__ < '1.0.1':
	raise RuntimeError("Sphinx 1.0.1 or newer is required")
def mangle_docstrings(app, what, name, obj, options, lines,
					  reference_offset=[0]):
	cfg = dict(use_plots=app.config.numpydoc_use_plots,
			   show_class_members=app.config.numpydoc_show_class_members)
	if what == 'module':
		title_re = re.compile(ur'^\s*[
							  re.I|re.S)
		lines[:] = title_re.sub(u'', u"\n".join(lines)).split(u"\n")
	else:
		doc = get_doc_object(obj, what, u"\n".join(lines), config=cfg)
		lines[:] = unicode(doc).split(u"\n")
	if app.config.numpydoc_edit_link and hasattr(obj, '__name__') and \
		   obj.__name__:
		if hasattr(obj, '__module__'):
			v = dict(full_name=u"%s.%s" % (obj.__module__, obj.__name__))
		else:
			v = d