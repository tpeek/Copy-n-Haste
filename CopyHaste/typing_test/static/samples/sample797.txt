
matplotlib.use('Qt4Agg')
matplotlib.rcParams['backend.qt4']='PyQt4'
def driftingBeamGradient(ptcl_data, t_data):
	derivs = np.zeros(ptcl_data.size)
	nptcl = ptcl_data.size / 6
	for iLoop in range(nptcl):
		derivs[iLoop		] = ptcl_data[iLoop+  nptcl]
		derivs[iLoop+2*nptcl] = ptcl_data[iLoop+3*nptcl]
		derivs[iLoop+4*nptcl] = ptcl_data[iLoop+5*nptcl]
	return derivs
numpoints = 1200
energy = 2.5e+6 
 
myBunch = beam.RbParticleBeam6D(numpoints) 
myBunch.setAvgEnergyEV(energy) 
 
alphaX = 0.0 
betaX = 15. 
emitX = 3.3e-07 
myBunch.setTwissParamsByName2D(alphaX, betaX, emitX, 'twissX') 
 
alpha = 4.6 
betaY = 0.012 
emitY = 1.7e-06 
myBunch.setTwissParamsByName2D(alpha, betaY, emitY, 'twissY') 
 
alfaZT = -3.3 
beta   = 0.9 
emittance = 0.58e-06