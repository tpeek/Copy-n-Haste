
logger = logging.getLogger(__name__)
class BoxNodeLogger(object):
	def __init__(self, node, auth, file_obj=None, path=None):
		self.node = node
		self.auth = auth
		self.file_obj = file_obj
		self.path = path
	def log(self, action, extra=None, save=False):
		params = {
			'project': self.node.parent_id,
			'node': self.node._primary_key,
			'folder_id': self.node.get_addon('box', deleted=True).folder_id,
			'folder_name': self.node.get_addon('box', deleted=True).folder_name,
			'folder': self.node.get_addon('box', deleted=True).folder_path
		}
		if self.file_obj or self.path:
			path = self.file_obj.path if self.file_obj else self.path
			params.update({
				'urls': {
					'view': self.node.web_url_for('addon_view_or_download_file', path=p