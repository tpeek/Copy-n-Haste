
class TopDown:
  def __init__(self, verbose):
	self.verbose = verbose
	self.pm_client = pubmed.Client()
	self.ct_client = clinicaltrials.Client()
	self.wos_client = wos.Client()
	self.counts = {'wos': 0, 'pm': 0, 'w+p': 0, 'all': 0, '?': 0}
  def close(self):
	self.wos_client.close()
  def _first_author(self, ref):
	authors = ref.get('authors')
	if not authors:
	  return None
	else:
	  return authors[0][0]
  def _update_ref_counts(self, ref):
	self.counts['all'] += 1
	if 'wosid' in ref:
	  self.counts['wos'] += 1
	if 'pmid' in ref:
	  self.counts['pm'] += 1
	if 'wosid' in ref and 'pmid' in ref:
	  self.counts['w+p'] += 1
	if not 'pmid' in ref and not 'wosid' in ref:
	  self.counts['?'] += 1
  def _print_counts(self):
	print 'Total: %d' % s