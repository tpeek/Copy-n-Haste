
ENDINGS = [
	".rpy",
	".rpym",
	".py",
	".pyx",
	".pxf",
	]
full_copyright=
def process_file(fn):
	for i in ENDINGS:
		if fn.endswith(i):
			break
	else:
		return
	print("Processing", fn)
	lines = [ ]
	has_copyright = False
	first = True
	with open(fn, "rb") as f:
		for l in f:
			l = re.sub(
				r"Copyright (\d{4})-\d{4} Tom Rothamel",
				r"Copyright \1-2015 Tom Rothamel",
				l)
			if re.search(r"Copyright .* Tom Rothamel", l):
				if has_copyright:
					continue
				has_copyright = True
			l = l.replace("
			if first:
				if fn.endswith(".rpy") or fn.endswith(".rpym"):
					if codecs.BOM_UTF8 not in l:
						l = codecs.BOM_UTF8 + l
				first = False
			lines.append(l)
	with open(fn, "wb") as f:
		f.write("".join(lines))
def process(roo