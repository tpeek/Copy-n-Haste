
MAKELOG = True
LOGPATH = os.path.join(os.environ["HOME"], "JAMTank_server.log")
if os.path.exists(LOGPATH):
	os.remove(LOGPATH)
def WRITE_LOG(_dict):
	archivo = open(LOGPATH, "w")
	archivo.write(json.dumps(
		_dict, indent=4, separators=(", ", ":"), sort_keys=True))
	archivo.close()
def APPEND_LOG(_dict):
	new = {}
	if os.path.exists(LOGPATH):
		archivo = codecs.open(LOGPATH, "r", "utf-8")
		new = json.JSONDecoder("utf-8").decode(archivo.read())
		archivo.close()
	for key in _dict.keys():
		new[key] = _dict[key]
	WRITE_LOG(new)
class RequestHandler(SocketServer.StreamRequestHandler):
	def handle(self):
		while 1:
			try:
				entrada = self.rfile.readline().strip()
				if not entrada:
					self.request.close()
					return
				respuesta = se