
try:
except ImportError:
	ssl = None
try:
	xrange
except NameError:
	xrange = range
if hasattr(ssl, 'match_hostname') and hasattr(ssl, 'CertificateError'):
	ssl_match_hostname = ssl.match_hostname
	SSLCertificateError = ssl.CertificateError
elif ssl is None:
	ssl_match_hostname = SSLCertificateError = None
else:
	ssl_match_hostname = backports.ssl_match_hostname.match_hostname
	SSLCertificateError = backports.ssl_match_hostname.CertificateError
u('foo').encode('idna')
_ERRNO_WOULDBLOCK = (errno.EWOULDBLOCK, errno.EAGAIN)
if hasattr(errno, "WSAEWOULDBLOCK"):
	_ERRNO_WOULDBLOCK += (errno.WSAEWOULDBLOCK,)
_DEFAULT_BACKLOG = 128
def bind_sockets(port, address=None, family=socket.AF_UNSPEC,
				 backlog=_DEFAULT_BACKLOG, flags=None):
	sockets =