
try:
except ImportError:
	ssl = None
class TCPServer(object):
	r
	def __init__(self, io_loop=None, ssl_options=None, max_buffer_size=None,
				 read_chunk_size=None):
		self.io_loop = io_loop
		self.ssl_options = ssl_options
		self._sockets = {}
		self._pending_sockets = []
		self._started = False
		self.max_buffer_size = max_buffer_size
		self.read_chunk_size = read_chunk_size
		if self.ssl_options is not None and isinstance(self.ssl_options, dict):
			if 'certfile' not in self.ssl_options:
				raise KeyError('missing key "certfile" in ssl_options')
			if not os.path.exists(self.ssl_options['certfile']):
				raise ValueError('certfile "%s" does not exist' %
								 self.ssl_options['certfile'])
			if ('keyfile' in self.ssl_options and
		