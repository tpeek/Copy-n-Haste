
try:
except ImportError:
	asyncio = None
skipIfNoSingleDispatch = unittest.skipIf(
	gen.singledispatch is None, "singledispatch module not present")
@unittest.skipIf(asyncio is None, "asyncio module not present")
class AsyncIOLoopTest(AsyncTestCase):
	def get_new_ioloop(self):
		io_loop = AsyncIOLoop()
		asyncio.set_event_loop(io_loop.asyncio_loop)
		return io_loop
	def test_asyncio_callback(self):
		asyncio.get_event_loop().call_soon(self.stop)
		self.wait()
	@skipIfNoSingleDispatch
	@gen_test
	def test_asyncio_future(self):
		x = yield asyncio.async(
			asyncio.get_event_loop().run_in_executor(None, lambda: 42))
		self.assertEqual(x, 42)
	@unittest.skipIf(sys.version_info < (3, 3),
					 'PEP 380 not available')
	@skipIfNoSingleDispatch
