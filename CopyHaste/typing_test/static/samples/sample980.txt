
try:
except ImportError:
	futures = None
skipBefore33 = unittest.skipIf(sys.version_info < (3, 3), 'PEP 380 not available')
skipNotCPython = unittest.skipIf(platform.python_implementation() != 'CPython',
								 'Not CPython implementation')
class GenEngineTest(AsyncTestCase):
	def setUp(self):
		super(GenEngineTest, self).setUp()
		self.named_contexts = []
	def named_context(self, name):
		@contextlib.contextmanager
		def context():
			self.named_contexts.append(name)
			try:
				yield
			finally:
				self.assertEqual(self.named_contexts.pop(), name)
		return context
	def run_gen(self, f):
		f()
		return self.wait()
	def delay_callback(self, iterations, callback, arg):
		if iterations == 0:
			callback(arg)
		else:
			self.io_loop.add_ca