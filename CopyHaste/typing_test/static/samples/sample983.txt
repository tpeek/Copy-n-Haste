
class TestUrlConcat(unittest.TestCase):
	def test_url_concat_no_query_params(self):
		url = url_concat(
			"https://localhost/path",
			[('y', 'y'), ('z', 'z')],
		)
		self.assertEqual(url, "https://localhost/path?y=y&z=z")
	def test_url_concat_encode_args(self):
		url = url_concat(
			"https://localhost/path",
			[('y', '/y'), ('z', 'z')],
		)
		self.assertEqual(url, "https://localhost/path?y=%2Fy&z=z")
	def test_url_concat_trailing_q(self):
		url = url_concat(
			"https://localhost/path?",
			[('y', 'y'), ('z', 'z')],
		)
		self.assertEqual(url, "https://localhost/path?y=y&z=z")
	def test_url_concat_q_with_no_trailing_amp(self):
		url = url_concat(
			"https://localhost/path?x",
			[('y', 'y'), ('z', 'z')],
		)
		self.assertEqual(url, "h